---
title: Getting Started
---

# Getting Started

This guide covers installation, running your first pipeline, and understanding the output.

## Prerequisites

- **Python 3.10+** â€” HEDGEHOG requires Python 3.10 or later.
- **uv** â€” used for dependency management and running the CLI. Install from [astral.sh/uv](https://astral.sh/uv).
- **git** â€” to clone the repository.

For the retrosynthesis (AiZynthFinder) part of the synthesis stage, you need the external `aizynthfinder` tooling and its public data. The provided installer script uses `uv` to set this up inside `modules/` (no conda is required by the script).

## Installation

Install from PyPI:

```bash
python -m pip install hedgehog
hedgehog --help
```

Or install from source:

```bash
# Clone the repository
git clone https://github.com/LigandPro/hedgehog.git
cd hedgehog

# Install AiZynthFinder for retrosynthesis analysis
./modules/install_aizynthfinder.sh

# Install HEDGEHOG and all dependencies
uv sync
```

The `install_aizynthfinder.sh` script clones the retrosynthesis repository and downloads the required public data.

Alternatively, you can use the CLI installer:

```bash
uv run hedgehog setup aizynthfinder --yes
```

If you prefer on-demand installation during a pipeline run, use:

```bash
uv run hedgehog run --auto-install
```

## First Run

Run the full pipeline on the included test data:

```bash
uv run hedgehog run
```

Or using the short alias:

```bash
uv run hedge run
```

This uses the default configuration at `src/hedgehog/configs/config.yml` and the test molecules in `data/test/`. Each stage runs in sequence, filtering molecules that fail its criteria.

Note: the default `config.yml` contains absolute paths for optional external preparation tools. If you do not have these tools, set `ligand_preparation_tool` / `protein_preparation_tool` to empty values (or disable the affected stages) before your first run.

## Expected Output

When you run the pipeline, you will see:

1. **Banner** â€” the HEDGEHOG banner with version information.
2. **Mol Prep** â€” Datamol-based standardization and strict filtering (salts/fragments cleanup, uncharging, tautomer canonicalization, stereo removal).
3. **Stage execution** â€” each enabled stage runs in order, logging progress and molecule counts. Stages that are disabled in the configuration are skipped.
4. **Report generation** â€” an HTML report and associated plots are generated automatically at the end of a successful run.

Typical console output looks like:

```
ðŸ¦” HEDGEHOG
Starting pipeline...
Stage 1: Mol Prep (Datamol) â€” 500 molecules processed, 451 passed
Stage 2: Molecular Descriptors â€” 451 molecules processed, 423 passed
Stage 3: Structural Filters â€” 423 molecules processed, 387 passed
Stage 4: Synthesis Analysis â€” 387 molecules processed, 312 passed
...
Pipeline completed: 7/7 stages successful
```

## Understanding Results

Results are saved to an auto-numbered directory under the configured output path (default: `results/run_N/`). Each run creates a new numbered folder unless you use the `--reuse` flag.

The output directory structure:

```
results/run_1/
â”œâ”€â”€ input/
â”‚   â””â”€â”€ sampled_molecules.csv       # Input molecules (sampled)
â”œâ”€â”€ stages/
â”‚   â”œâ”€â”€ 00_mol_prep/               # Datamol-based standardization + strict filtering
â”‚   â”œâ”€â”€ 01_descriptors_initial/     # Physicochemical descriptors
â”‚   â”œâ”€â”€ 03_structural_filters_post/ # Post-descriptors structural filters
â”‚   â”œâ”€â”€ 04_synthesis/               # Retrosynthesis analysis
â”‚   â”œâ”€â”€ 05_docking/                 # Molecular docking (SMINA/GNINA)
â”‚   â”œâ”€â”€ 06_docking_filters/         # Post-docking pose & interaction filters
â”‚   â””â”€â”€ 07_descriptors_final/       # Final descriptor recalculation
â”œâ”€â”€ output/
â”‚   â””â”€â”€ final_molecules.csv         # Final filtered molecules
â”œâ”€â”€ configs/                        # Configuration snapshots
â”‚   â”œâ”€â”€ master_config_resolved.yml
â”‚   â””â”€â”€ config_*.yml
â”œâ”€â”€ report.html                     # Interactive HTML report
â”œâ”€â”€ report_data.json                # Report data
â””â”€â”€ RUN_INFO.md                     # Run summary with MolEval metrics table
```

Each stage directory contains a `filtered_molecules.csv` file with the molecules that passed that stage, along with any stage-specific outputs (plots, intermediate files). The `report.html` file is the primary deliverable â€” open it in a browser to explore per-stage statistics, descriptor distributions, filter breakdowns, and generative quality metrics.
